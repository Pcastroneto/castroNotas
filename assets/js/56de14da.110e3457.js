"use strict";(self.webpackChunksenai=self.webpackChunksenai||[]).push([[3693],{8268:(n,e,o)=>{o.r(e),o.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>t,metadata:()=>i,toc:()=>m});var a=o(4848),s=o(8453);const t={title:"Mobile",sidebar_position:5},r="Iniciando API Typescript",i={id:"senai-aulas/mob",title:"Mobile",description:"Na aula vamos estar usando novamente a PokePI Api do pokemon, seguir uma hierarquia e dar significancia para nomenclatura e",source:"@site/docs/senai-aulas/mob.md",sourceDirName:"senai-aulas",slug:"/senai-aulas/mob",permalink:"/gh-senai-ads-castro/docs/senai-aulas/mob",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/senai-aulas/mob.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"Mobile",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Gov",permalink:"/gh-senai-ads-castro/docs/senai-aulas/gov"},next:{title:"Tutorial - Basics",permalink:"/gh-senai-ads-castro/docs/category/tutorial---basics"}},c={},m=[];function p(n){const e={code:"code",h1:"h1",p:"p",pre:"pre",...(0,s.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h1,{id:"iniciando-api-typescript",children:"Iniciando API Typescript"}),"\n",(0,a.jsx)(e.p,{children:"Na aula vamos estar usando novamente a PokePI Api do pokemon, seguir uma hierarquia e dar significancia para nomenclatura e"}),"\n",(0,a.jsx)(e.p,{children:"Se tiver o Yarn \xe9 melhor que usar o npm"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{children:"npx create-react-app exemploapitypescript --template typescript\n"})}),"\n",(0,a.jsx)(e.p,{children:"Dentro do projeto no cmd executar o comando, axios \xe9 usado como padrao de mercado"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{children:"npm install axios\n"})}),"\n",(0,a.jsx)(e.p,{children:'Dentro de src, foi criada a pasta "services" , dentro o arquivo "api.ts"'}),"\n",(0,a.jsx)(e.p,{children:"Dentro do arquivo api.ts"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:'import axios from "axios";\n\nconst URL = "https://pokeapi.co/api/v2/pokemon"\n\nconst api = axios.create({\n    baseURL: URL,\n    timeout: 5000\n\n});\n'})}),"\n",(0,a.jsx)(e.p,{children:'Dentro de src, foi criado o diret\xf3rio "types" e dentro de tpes, foi criado o arquivo "AppInterfaces.ts"'}),"\n",(0,a.jsx)(e.p,{children:"Nele tem:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:"interface PokemonListInterface{\n    const: number,\n    next: string | null,\n    previous: string | null,\n    results: PokemonItemListInterface[];\n}\n\ninterface PokemonItemListInterface {\n    name: string,\n    url: string;\n}\n\nexport type {\n    PokemonListInterface,\n    PokemonItemListInterface };\n"})}),"\n",(0,a.jsx)(e.p,{children:"Dentro de services tem o arquivo agota PokemonServices.ts"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:'import api from "./api";\n\ninterface PokemonServicesListarParams {\n    itensPorPagina: number,\n    pagina: number;\n}\n\nconst PokemonServices = {\n    listarPokemons: async (params : PokemonServiceListarParams) : Promise<PokemonListInterface> => {  \n\n        /*Qquando fazmos uma chamada assincrona, o meu retorno \xe9 uma promise\n           uma execu\xe7\xe3o sem o controle do fluxo de execu\xe7\xe3o*/\n        const (itensPorPagina, pagina) = params;\n\n        \n        const requestParams = `/?offset=${(pagina - 1) * itensPorpagina}&limit=${itensPorPagina}`; \n        //esse conceito de pagina\xe7\xe3o \xe9 padr\xe3o, o limit \xe9 os itens por pagina, offset \xe9 as paginas que eu \n        try{\n\n        \n            const response: AxiosResponse<PokemonListInterface> = await api.get(requestParams);\n        /*a minha resposta \xe9 assincrona, o await \xe9 onde ocorre o assincornismo, esta sendo notacioado aqui\n        Ao receber isso ele converte isso para o nosso contrato*/\n            return response.data;\n        } catch(err){//qualquer erro cai nessa se\xe7\xe3o de c\xf3digo\n            throw new Error("Erro ao Consultar a api")\n        }\n\n        \n        api.get(requestParams); \n    }\n};\n\nexport default PokemonServices\n'})}),"\n",(0,a.jsx)(e.p,{children:'Ele criou uma pasta components e depois o arquivo "PokemonList.js"'}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:'import React from "React";\n\nconst PokemonList: React.FC = () => {\n    useEffect ( () =>{\n        PokemonService.listarPokemons({\n            itensPorPagina: 20,\n            pagina:1\n        });\n    }; []);\n    return(\n        <React.Fragment></React.Fragment>\n    )\n}\n\n'})}),"\n",(0,a.jsx)(e.p,{children:"Dentro do pokemonlist foi criado um index.ts e no components tbm"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:'import PokemonList from "./PokemonList";\n\nexport {PokemonList}\n'})}),"\n",(0,a.jsx)(e.p,{children:"do index.ts components"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-ts",children:'import { PokemonList } frmo ".PokemonList";\n\nexport {PokemonList}\n'})}),"\n",(0,a.jsx)(e.p,{children:"Agora dentro do App vamos chamar o PokemonList"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"import './App.css';\nimport { PolemonList } from './components';\n\nfunction App() {\n    return (\n        <PokemonList>\n    );\n}\n\nexport default App;\n"})}),"\n",(0,a.jsx)(e.p,{children:"Voltamos a mexer no codigo do PokemonList.tsx"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:'import React from "React";\nimport PokemonServices from "../../services/PokemonServices";\n\n\nconst PokemonList: React.FC = () => {\n    const [pagina, setPagina] = useState<number>(1);\n    const [itensPorPagina, steItemsPorPagina] = useState<number>(20)\n\n    useEffect ( () =>{\n        PokemonService.listarPokemons({\n            itensPorPagina: itensPorPagina,\n            pagina: pagina,\n        });\n\n    }; []);\n    const handleListarDados =() => {\n        PokemonSerice.listarPokemons({\n            itensPorPagina: itensPorPagina,\n            pagina: pagina\n        })\n    }\n\nreturn(\n        <React.Fragment></React.Fragment>\n    )\n}\n\n'})}),"\n",(0,a.jsx)(e.p,{children:'fomos no google e colocamos "mui react install"\no primeiro item do retorno da busca, onde mostra a intala\xe7\xe3o para quem tem o npm e o yarn'})]})}function d(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(p,{...n})}):p(n)}},8453:(n,e,o)=>{o.d(e,{R:()=>r,x:()=>i});var a=o(6540);const s={},t=a.createContext(s);function r(n){const e=a.useContext(t);return a.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),a.createElement(t.Provider,{value:e},n.children)}}}]);