"use strict";(self.webpackChunksenai=self.webpackChunksenai||[]).push([[4960],{5647:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>m});var a=o(4848),s=o(8453);const r={title:"Aula 25-04",sidebar_position:1},t="Iniciando API Typescript",i={id:"Aulas/DevMobile/mob",title:"Aula 25-04",description:"Na aula vamos estar usando novamente a PokePI Api do pokemon, seguir uma hierarquia e dar significancia para nomenclatura e",source:"@site/docs/Aulas/DevMobile/mob.md",sourceDirName:"Aulas/DevMobile",slug:"/Aulas/DevMobile/mob",permalink:"/gh-senai-ads-castro/docs/Aulas/DevMobile/mob",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Aulas/DevMobile/mob.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Aula 25-04",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Dev Mobile",permalink:"/gh-senai-ads-castro/docs/category/dev-mobile"},next:{title:"Governan\xe7aTI",permalink:"/gh-senai-ads-castro/docs/category/governan\xe7ati"}},c={},m=[];function p(e){const n={code:"code",h1:"h1",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"iniciando-api-typescript",children:"Iniciando API Typescript"}),"\n",(0,a.jsx)(n.p,{children:"Na aula vamos estar usando novamente a PokePI Api do pokemon, seguir uma hierarquia e dar significancia para nomenclatura e"}),"\n",(0,a.jsx)(n.p,{children:"Se tiver o Yarn \xe9 melhor que usar o npm"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"npx create-react-app exemploapitypescript --template typescript\n"})}),"\n",(0,a.jsx)(n.p,{children:"Dentro do projeto no cmd executar o comando, axios \xe9 usado como padrao de mercado"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"npm install axios\n"})}),"\n",(0,a.jsx)(n.p,{children:'Dentro de src, foi criada a pasta "services" , dentro o arquivo "api.ts"'}),"\n",(0,a.jsx)(n.p,{children:"Dentro do arquivo api.ts"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import axios from "axios";\n\nconst URL = "https://pokeapi.co/api/v2/pokemon"\n\nconst api = axios.create({\n    baseURL: URL,\n    timeout: 5000\n\n});\n'})}),"\n",(0,a.jsx)(n.p,{children:'Dentro de src, foi criado o diret\xf3rio "types" e dentro de tpes, foi criado o arquivo "AppInterfaces.ts"'}),"\n",(0,a.jsx)(n.p,{children:"Nele tem:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"interface PokemonListInterface{\n    const: number,\n    next: string | null,\n    previous: string | null,\n    results: PokemonItemListInterface[];\n}\n\ninterface PokemonItemListInterface {\n    name: string,\n    url: string;\n}\n\nexport type {\n    PokemonListInterface,\n    PokemonItemListInterface };\n"})}),"\n",(0,a.jsx)(n.p,{children:"Dentro de services tem o arquivo agota PokemonServices.ts"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import api from "./api";\n\ninterface PokemonServicesListarParams {\n    itensPorPagina: number,\n    pagina: number;\n}\n\nconst PokemonServices = {\n    listarPokemons: async (params : PokemonServiceListarParams) : Promise<PokemonListInterface> => {  \n\n        /*Qquando fazmos uma chamada assincrona, o meu retorno \xe9 uma promise\n           uma execu\xe7\xe3o sem o controle do fluxo de execu\xe7\xe3o*/\n        const (itensPorPagina, pagina) = params;\n\n        \n        const requestParams = `/?offset=${(pagina - 1) * itensPorpagina}&limit=${itensPorPagina}`; \n        //esse conceito de pagina\xe7\xe3o \xe9 padr\xe3o, o limit \xe9 os itens por pagina, offset \xe9 as paginas que eu \n        try{\n\n        \n            const response: AxiosResponse<PokemonListInterface> = await api.get(requestParams);\n        /*a minha resposta \xe9 assincrona, o await \xe9 onde ocorre o assincornismo, esta sendo notacioado aqui\n        Ao receber isso ele converte isso para o nosso contrato*/\n            return response.data;\n        } catch(err){//qualquer erro cai nessa se\xe7\xe3o de c\xf3digo\n            throw new Error("Erro ao Consultar a api")\n        }\n\n        \n        api.get(requestParams); \n    }\n};\n\nexport default PokemonServices\n'})}),"\n",(0,a.jsx)(n.p,{children:'Ele criou uma pasta components e depois o arquivo "PokemonList.js"'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'import React from "React";\n\nconst PokemonList: React.FC = () => {\n    useEffect ( () =>{\n        PokemonService.listarPokemons({\n            itensPorPagina: 20,\n            pagina:1\n        });\n    }; []);\n    return(\n        <React.Fragment></React.Fragment>\n    )\n}\n\n'})}),"\n",(0,a.jsx)(n.p,{children:"Dentro do pokemonlist foi criado um index.ts e no components tbm"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import PokemonList from "./PokemonList";\n\nexport {PokemonList}\n'})}),"\n",(0,a.jsx)(n.p,{children:"do index.ts components"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import { PokemonList } frmo ".PokemonList";\n\nexport {PokemonList}\n'})}),"\n",(0,a.jsx)(n.p,{children:"Agora dentro do App vamos chamar o PokemonList"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import './App.css';\nimport { PolemonList } from './components';\n\nfunction App() {\n    return (\n        <PokemonList>\n    );\n}\n\nexport default App;\n"})}),"\n",(0,a.jsx)(n.p,{children:"Voltamos a mexer no codigo do PokemonList.tsx"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'import React from "React";\nimport PokemonServices from "../../services/PokemonServices";\n\n\nconst PokemonList: React.FC = () => {\n    const [pagina, setPagina] = useState<number>(1);\n    const [itensPorPagina, steItemsPorPagina] = useState<number>(20)\n\n    useEffect ( () =>{\n        PokemonService.listarPokemons({\n            itensPorPagina: itensPorPagina,\n            pagina: pagina,\n        });\n\n    }; []);\n    const handleListarDados =() => {\n        PokemonSerice.listarPokemons({\n            itensPorPagina: itensPorPagina,\n            pagina: pagina\n        })\n    }\n\nreturn(\n        <React.Fragment></React.Fragment>\n    )\n}\n\n'})}),"\n",(0,a.jsx)(n.p,{children:'fomos no google e colocamos "mui react install"\no primeiro item do retorno da busca, onde mostra a intala\xe7\xe3o para quem tem o npm e o yarn'})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>t,x:()=>i});var a=o(6540);const s={},r=a.createContext(s);function t(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);