"use strict";(self.webpackChunksenai=self.webpackChunksenai||[]).push([[960],{5647:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>m,frontMatter:()=>i,metadata:()=>t,toc:()=>d});var a=o(4848),s=o(8453);const i={title:"Aula 25-04",sidebar_position:1},r="Iniciando API com Typescript",t={id:"Aulas/DevMobile/mob",title:"Aula 25-04",description:"Configura\xe7\xe3o da Aplica\xe7\xe3o",source:"@site/docs/Aulas/DevMobile/mob.md",sourceDirName:"Aulas/DevMobile",slug:"/Aulas/DevMobile/mob",permalink:"/castroNotas/docs/Aulas/DevMobile/mob",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Aulas/DevMobile/mob.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Aula 25-04",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Dev Mobile",permalink:"/castroNotas/docs/category/dev-mobile"},next:{title:"Eng. Software",permalink:"/castroNotas/docs/category/eng-software"}},c={},d=[{value:"Configura\xe7\xe3o da Aplica\xe7\xe3o",id:"configura\xe7\xe3o-da-aplica\xe7\xe3o",level:2},{value:"1. Criando o Projeto React com Typescript",id:"1-criando-o-projeto-react-com-typescript",level:3},{value:"2. Instalando Axios",id:"2-instalando-axios",level:3},{value:"Estrutura do Projeto",id:"estrutura-do-projeto",level:2},{value:"1. Servi\xe7o de API",id:"1-servi\xe7o-de-api",level:3},{value:"2. Definindo Tipos",id:"2-definindo-tipos",level:3},{value:"3. Servi\xe7o de Listagem de Pok\xe9mons",id:"3-servi\xe7o-de-listagem-de-pok\xe9mons",level:3},{value:"Componente de Listagem de Pok\xe9mons",id:"componente-de-listagem-de-pok\xe9mons",level:2},{value:"1. Componente <code>PokemonList.tsx</code>",id:"1-componente-pokemonlisttsx",level:3},{value:"2. Indexa\xe7\xe3o dos Componentes",id:"2-indexa\xe7\xe3o-dos-componentes",level:3},{value:"Integra\xe7\xe3o no <code>App.tsx</code>",id:"integra\xe7\xe3o-no-apptsx",level:2},{value:"Melhoria no Componente <code>PokemonList.tsx</code>",id:"melhoria-no-componente-pokemonlisttsx",level:2},{value:"Instala\xe7\xe3o do Material UI",id:"instala\xe7\xe3o-do-material-ui",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"iniciando-api-com-typescript",children:"Iniciando API com Typescript"}),"\n",(0,a.jsx)(n.h2,{id:"configura\xe7\xe3o-da-aplica\xe7\xe3o",children:"Configura\xe7\xe3o da Aplica\xe7\xe3o"}),"\n",(0,a.jsxs)(n.p,{children:["Nesta aula, utilizamos a ",(0,a.jsx)(n.strong,{children:"PokeAPI"})," para obter dados sobre pok\xe9mons e implementamos uma API em ",(0,a.jsx)(n.strong,{children:"Typescript"}),". Recomendamos o uso do ",(0,a.jsx)(n.strong,{children:"Yarn"})," em vez do ",(0,a.jsx)(n.strong,{children:"npm"}),", mas ambos funcionam."]}),"\n",(0,a.jsx)(n.h3,{id:"1-criando-o-projeto-react-com-typescript",children:"1. Criando o Projeto React com Typescript"}),"\n",(0,a.jsxs)(n.p,{children:["Para iniciar o projeto, usamos o comando abaixo para criar uma aplica\xe7\xe3o ",(0,a.jsx)(n.strong,{children:"React"})," com suporte a ",(0,a.jsx)(n.strong,{children:"Typescript"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npx create-react-app exemploapitypescript --template typescript\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-instalando-axios",children:"2. Instalando Axios"}),"\n",(0,a.jsxs)(n.p,{children:["Dentro do projeto, instalamos o ",(0,a.jsx)(n.strong,{children:"axios"})," para realizar as requisi\xe7\xf5es HTTP, uma pr\xe1tica comum no mercado:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm install axios\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"estrutura-do-projeto",children:"Estrutura do Projeto"}),"\n",(0,a.jsx)(n.h3,{id:"1-servi\xe7o-de-api",children:"1. Servi\xe7o de API"}),"\n",(0,a.jsxs)(n.p,{children:["Dentro do diret\xf3rio ",(0,a.jsx)(n.code,{children:"src"}),", criamos a pasta ",(0,a.jsx)(n.code,{children:"services"})," e adicionamos o arquivo ",(0,a.jsx)(n.code,{children:"api.ts"}),". Este arquivo configura o cliente ",(0,a.jsx)(n.strong,{children:"axios"})," para fazer as requisi\xe7\xf5es \xe0 PokeAPI:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import axios from "axios";\n\nconst URL = "https://pokeapi.co/api/v2/pokemon";\n\nconst api = axios.create({\n    baseURL: URL,\n    timeout: 5000,\n});\n\nexport default api;\n'})}),"\n",(0,a.jsx)(n.h3,{id:"2-definindo-tipos",children:"2. Definindo Tipos"}),"\n",(0,a.jsxs)(n.p,{children:["Criamos a pasta ",(0,a.jsx)(n.code,{children:"types"})," dentro de ",(0,a.jsx)(n.code,{children:"src"}),", e dentro dela, o arquivo ",(0,a.jsx)(n.code,{children:"AppInterfaces.ts"})," para definir os tipos usados na aplica\xe7\xe3o:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:"interface PokemonListInterface {\n    count: number,\n    next: string | null,\n    previous: string | null,\n    results: PokemonItemListInterface[];\n}\n\ninterface PokemonItemListInterface {\n    name: string,\n    url: string;\n}\n\nexport type {\n    PokemonListInterface,\n    PokemonItemListInterface\n};\n"})}),"\n",(0,a.jsx)(n.h3,{id:"3-servi\xe7o-de-listagem-de-pok\xe9mons",children:"3. Servi\xe7o de Listagem de Pok\xe9mons"}),"\n",(0,a.jsxs)(n.p,{children:["Dentro de ",(0,a.jsx)(n.code,{children:"services"}),", adicionamos o arquivo ",(0,a.jsx)(n.code,{children:"PokemonServices.ts"}),", respons\xe1vel por fazer a requisi\xe7\xe3o para listar os pok\xe9mons:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import api from "./api";\nimport { PokemonListInterface } from "../types/AppInterfaces";\nimport { AxiosResponse } from "axios";\n\ninterface PokemonServiceListarParams {\n    itensPorPagina: number,\n    pagina: number;\n}\n\nconst PokemonServices = {\n    listarPokemons: async (params: PokemonServiceListarParams): Promise<PokemonListInterface> => {\n        const { itensPorPagina, pagina } = params;\n\n        const requestParams = `/?offset=${(pagina - 1) * itensPorPagina}&limit=${itensPorPagina}`;\n\n        try {\n            const response: AxiosResponse<PokemonListInterface> = await api.get(requestParams);\n            return response.data;\n        } catch (err) {\n            throw new Error("Erro ao consultar a API");\n        }\n    }\n};\n\nexport default PokemonServices;\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"componente-de-listagem-de-pok\xe9mons",children:"Componente de Listagem de Pok\xe9mons"}),"\n",(0,a.jsxs)(n.h3,{id:"1-componente-pokemonlisttsx",children:["1. Componente ",(0,a.jsx)(n.code,{children:"PokemonList.tsx"})]}),"\n",(0,a.jsxs)(n.p,{children:["Dentro da pasta ",(0,a.jsx)(n.code,{children:"components"}),", criamos o arquivo ",(0,a.jsx)(n.code,{children:"PokemonList.tsx"}),", que ir\xe1 chamar o servi\xe7o de listagem de pok\xe9mons:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'import React, { useEffect, useState } from "react";\nimport PokemonServices from "../../services/PokemonServices";\n\nconst PokemonList: React.FC = () => {\n    const [pagina, setPagina] = useState<number>(1);\n    const [itensPorPagina, setItensPorPagina] = useState<number>(20);\n\n    useEffect(() => {\n        PokemonServices.listarPokemons({\n            itensPorPagina: itensPorPagina,\n            pagina: pagina,\n        });\n    }, [itensPorPagina, pagina]);\n\n    return (\n        <React.Fragment></React.Fragment>\n    );\n};\n\nexport default PokemonList;\n'})}),"\n",(0,a.jsx)(n.h3,{id:"2-indexa\xe7\xe3o-dos-componentes",children:"2. Indexa\xe7\xe3o dos Componentes"}),"\n",(0,a.jsxs)(n.p,{children:["Adicionamos o arquivo ",(0,a.jsx)(n.code,{children:"index.ts"})," dentro da pasta ",(0,a.jsx)(n.code,{children:"components"})," para organizar as exporta\xe7\xf5es:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-ts",children:'import PokemonList from "./PokemonList";\n\nexport { PokemonList };\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.h2,{id:"integra\xe7\xe3o-no-apptsx",children:["Integra\xe7\xe3o no ",(0,a.jsx)(n.code,{children:"App.tsx"})]}),"\n",(0,a.jsxs)(n.p,{children:["Agora, importamos e utilizamos o componente ",(0,a.jsx)(n.code,{children:"PokemonList"})," dentro do arquivo ",(0,a.jsx)(n.code,{children:"App.tsx"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"import './App.css';\nimport { PokemonList } from './components';\n\nfunction App() {\n    return (\n        <PokemonList />\n    );\n}\n\nexport default App;\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.h2,{id:"melhoria-no-componente-pokemonlisttsx",children:["Melhoria no Componente ",(0,a.jsx)(n.code,{children:"PokemonList.tsx"})]}),"\n",(0,a.jsxs)(n.p,{children:["Voltamos ao componente ",(0,a.jsx)(n.code,{children:"PokemonList.tsx"})," para adicionar a fun\xe7\xe3o de listar dados e melhorar a intera\xe7\xe3o com a API:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:'import React, { useEffect, useState } from "react";\nimport PokemonServices from "../../services/PokemonServices";\n\nconst PokemonList: React.FC = () => {\n    const [pagina, setPagina] = useState<number>(1);\n    const [itensPorPagina, setItensPorPagina] = useState<number>(20);\n\n    useEffect(() => {\n        PokemonServices.listarPokemons({\n            itensPorPagina: itensPorPagina,\n            pagina: pagina,\n        });\n    }, [itensPorPagina, pagina]);\n\n    const handleListarDados = () => {\n        PokemonServices.listarPokemons({\n            itensPorPagina: itensPorPagina,\n            pagina: pagina\n        });\n    };\n\n    return (\n        <React.Fragment></React.Fragment>\n    );\n};\n\nexport default PokemonList;\n'})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"instala\xe7\xe3o-do-material-ui",children:"Instala\xe7\xe3o do Material UI"}),"\n",(0,a.jsxs)(n.p,{children:["Para adicionar o ",(0,a.jsx)(n.strong,{children:"Material UI"}),' (MUI) na aplica\xe7\xe3o, fizemos uma busca no Google por "mui react install". No primeiro resultado, encontramos o comando de instala\xe7\xe3o:']}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm install @mui/material @emotion/react @emotion/styled\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.p,{children:"Com esses passos, configuramos a aplica\xe7\xe3o React utilizando Typescript, Axios e PokeAPI, al\xe9m de realizar uma integra\xe7\xe3o com o Material UI para melhorar a interface."})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>t});var a=o(6540);const s={},i=a.createContext(s);function r(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);